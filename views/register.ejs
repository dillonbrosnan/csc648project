<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" dir="ltr">

<!-- Contains head of website -->
<head>
  <% include partials/head %>
  <link rel="stylesheet" href="/css/register.css"></link>
</head>


<body>

  	<!-- Contains header of website -->
  	<% include partials/header %>

  	<!-- Contains body of page -->
  	<div class="container registerContainer">

		<div class="row main">
			<div class="main-login main-center">
				<form class="form-horizontal" method="post" action="/register/">

					<input id="latInput" name="lat" required></input>
        			<input id="lngInput" name="lng" required></input>
						
					<div class="form-group">
						<label for="firstName" class="cols-sm-1 control-label">Your First Name</label>
						<div class="cols-sm-5">
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-user fa" aria-hidden="true"></i></span>
								<input type="text" class="form-control" name="firstName" id="firstName"  placeholder="Enter your first name"/>
							</div>
						</div>
					</div>

					<div class="form-group">
						<label for="lastName" class="cols-sm-1 control-label">Your Last Name</label>
						<div class="cols-sm-5">
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-user fa" aria-hidden="true"></i></span>
								<input type="text" class="form-control" name="lastName" id="lastName"  placeholder="Enter your last name"/>
							</div>
						</div>
					</div>

					<div class="form-group">
						<label for="email" class="cols-sm-2 control-label">Your Email</label>
						<div class="cols-sm-10">
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-envelope fa" aria-hidden="true"></i></span>
								<input type="text" class="form-control" name="email" id="email"  placeholder="Enter your Email"/>
							</div>
						</div>
					</div>

					<div class="form-group">
						<label for="username" class="cols-sm-2 control-label">Username</label>
						<div class="cols-sm-10">
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-users fa" aria-hidden="true"></i></span>
								<input type="text" class="form-control" name="username" id="username"  placeholder="Enter your Username"/>
							</div>
						</div>
					</div>

					<div class="form-group">
						<label for="password" class="cols-sm-2 control-label">Password</label>
						<div class="cols-sm-10">
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-lock fa-lg" aria-hidden="true"></i></span>
								<input type="password" class="form-control" name="password" id="password"  placeholder="Enter your Password"/>
							</div>
						</div>
					</div>

					<div class="form-group">
						<label for="address" class="cols-sm-2 control-label">Enter Address</label>
						<div class="cols-sm-10">
							<div class="input-group">
								<span class="input-group-addon"><i class="fa fa-lock fa-lg" aria-hidden="true"></i></span>
								<input type="text" class="form-control" name="address" id="address"  placeholder="Enter your address"/>
							</div>
						</div>
					</div>

					<div class="form-group" id="hidden-form">
						<input type="text" class="form-control" name="address" id="address"  placeholder="Enter your address"/>
					</div>

					<div class="form-group">
						<input type="submit" class="btn btn-primary btn-block login-button" value='Register'></input>
					</div>
					
				</form>
			</div>
		</div>
    </div>
    <!-- End of search box area -->
    
  	<footer>
    	<% include partials/footer %>
  	</footer>

  	<!-- Contains autocomplete functionality -->
  	<script>
	    // Create the search box and link it to the UI element.
	    function initAutocomplete() {
	      var input = document.getElementById('address');
	      var searchBox = new google.maps.places.SearchBox(input);

	      searchBox.addListener('places_changed', function() {
	            var places = searchBox.getPlaces();

	            if (places.length == 0) {
	              return;
	            }

	            places.forEach(function(place) {
	                var location = place.geometry.location;
	                var zipCodeFound = false;
	                for (var i = 0; i < place.address_components.length; i++) {
                  		for (var j = 0; j < place.address_components[i].types.length; j++) {
		                    if (place.address_components[i].types[j] == "postal_code") {
		                      console.log(place.address_components[i].long_name);   
		                    }
                  		}
                	}
                	if(!zipCodeFound)	{
                		alert("Please narrow down your location");
                	}
	                lat = location.lat();
	                lng = location.lng();
	                document.getElementById('latInput').value=lat; 
	                document.getElementById('lngInput').value=lng;  
	            });
	      });
	    }

	</script>

  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBPXF-zkLqKND8w5ktBN5bdlTkQSVbw950&libraries=places&callback=initAutocomplete" async defer></script>
  <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</body>
</html>